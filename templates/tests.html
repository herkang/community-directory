{% for resource in resources %}
<section class="resource_list_item">
  <h2>{{ resource.resource }}</h2>
  <ul>
    <li>Location: {{ resource.location }}</li>
    <li>Contact: {{ resource.contact }}</li>
    <li>Category: {{ resource.category.category }}</li>
  </ul>
</section>
{% endfor %}


{% extends 'base.html' %}
{% block title %}Resources{% endblock %}

{% block body %}

<h1>Navigation</h1>
  <ul>
    <li><a href="/categories">Categories</a></li>
    <li><a href="/resources">Resources</a></li>
    <li><a href="/profile">Profile</a></li>
    <li><a href="/">Login</a></li>

  </ul>


  <form id="bookmark-form" method="post" action="/resources">

    <div class="form-group">
      <label for="resource-field">Resource</label>
      <select name="resource" class="form-control" id="type-field">

        {% for item in resource %}
          <section class="resource_list_item">
            
            <p>Resources:
              <a href="/resources/{{ resource.id }}">
              {{ item.resource }}
            </a>
            <ul>
              fun facts about resources
            </ul>
          </p>
          </section>
        {% endfor %}

      </select>
    </div>
   
    <input type="submit" class="btn btn-primary">
  
  </form>
{% endblock %}



with open('db.csv', 'r') as data:

    for line in csv.DictReader(data):
        for k, v in line.items():
            # print(line)
            # print({k: v})
            # category = crud.get_category_by_name(line['Category'])
            # if not category:
                item = crud.create_category(line['Category'])
                # item = crud.get_category_by_id(line['Category'])
                # print('!!!!!!!!', line['Category'],'!!!!!!!!')
                # !!!!!!!! Latino/as !!!!!!!!             
                # print('!!!!!!!!', item.id,'!!!!!!!!')
                # 5 !!!!!!!!  
            else:
                category_id = crud.get_resources_by_category(item.id)

                # if not resource:
                    # category = line['Category']
                org_name = line['Org Name']
                contact = line['Contact']
                address = line['Address']
                location = line['Location']
                resource_item = crud.create_resource(org_name=org_name, contact=contact, address=address, location=location, category_id=category_id)
                # print('@@@@@@@@', resource_item,'@@@@@@@')
#     to store resourec, get category id and store it based on it
#     resouce takes in 





import os
import csv
import pandas as pd 

import crud
import model
import server

os.system('dropdb directory')
os.system('createdb directory')

model.connect_to_db(server.app)
model.db.create_all()

with open('db.csv', 'r') as data:

    for line in csv.DictReader(data):
        for k, v in line.items():
            # print(line)
            # print({k: v})
            category = crud.get_category_by_name(line['Category'])
            if not category:
                item = crud.create_category(line['Category'])
                # item = crud.get_category_by_id(line['Category'])
                # print('!!!!!!!!', line['Category'],'!!!!!!!!')
                # !!!!!!!! Latino/as !!!!!!!!             
                # print('!!!!!!!!', item.id,'!!!!!!!!')
                # 5 !!!!!!!!  
            else:
                category_id_in_list = crud.get_resources_by_category(item.id)
                # print(category, '1!!!!!')
                # print(category_id, '2!!!!!')
                # print('!!!!!!!!', item.id,'!!!!!!!!')
                resource_already_in_list = crud.get_resource_by_name
                if not category_id_in_list:

                    # category = line['Category']
                    org_name = line['Org Name']
                    contact = line['Contact']
                    address = line['Address']
                    location = line['Location']
                    resource_item = crud.create_resource(org_name, contact, address, location, item.id)
                    print('@@@@@@@@', resource_item,'@@@@@@@')
    #     to store resourec, get category id and store it based on it
#     resouce takes in 


